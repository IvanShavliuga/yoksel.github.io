{"componentChunkName":"component---src-templates-blog-post-js","path":"/funny-little-console","result":{"data":{"markdownRemark":{"html":"<p>Недавно мне пришлось отлаживать очень капризный скрипт, в котором, по ощущениям, происходили какие-то паранормальные явления. Чтобы найти проблему, понадобилось вывести в консоль браузера большое количество отладочной информации. <!--more-->С одной стороны, так стало удобнее искать ошибку, с другой — содержимое консоли превратилось в бесконечную колбасу однообразного текста, и с этим надо было что-то делать.</p>\n<p>Должна сказать, что я довольно редко пишу Javascript, поэтому заинтересовавшись возможностями консоли узнала много нового.</p>\n<p>Чтобы просто вывести что-то в консоль, используется <code>console.log()</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Что-нибудь'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig1.png\" alt=\"Что-нибудь\">\n<p>Таким образом можно выводить любые типы данных — строки, числа, массивы, объекты:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> str <span class=\"token operator\">=</span> <span class=\"token string\">'Главный вопрос жизни вселенной и всего такого'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> num <span class=\"token operator\">=</span> <span class=\"token number\">42</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> fruitsList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'apple'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'pear'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'banana'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> fruitsObj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">'apple'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    color<span class=\"token operator\">:</span> <span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span>\n    seeds<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'pear'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    color<span class=\"token operator\">:</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span>\n    seeds<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'banana'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    color<span class=\"token operator\">:</span> <span class=\"token string\">'yellow'</span><span class=\"token punctuation\">,</span>\n    seeds<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> str <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> num <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> fruitsList <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> fruitsObj <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig2.png\" alt=\"Вывод разных типов данных\">\n<p>Код подсвечен, вложенные элементы объектов свёрнуты.</p>\n<p>Как этот вывод можно улучшить? Мы видим в консоли содержимое переменных, но не видим их названий. Самый очевидный способ — добавить название перед выводимыми данными:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Строка: '</span> <span class=\"token operator\">+</span> str <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Число: '</span> <span class=\"token operator\">+</span> num <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Массив: '</span> <span class=\"token operator\">+</span> fruitsList <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Объект: '</span> <span class=\"token operator\">+</span> fruitsObj <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig3.png\" alt=\"Добавляем названия\">\n<p>При этом все значения переменных приведутся к строке. Для строк и чисел это не проблема, массив потеряет подсветку, хотя и останется читабельным, а вот объект превратится в строку [object Object], и содержимое объекта теперь нельзя ни прочитать, ни развернуть.</p>\n<p>Так себе вариант, есть способ получше: можно передавать в <code>console.log()</code> список переменных, разделённых запятой, и в этом случае они будут выведены корректно:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Строка:'</span><span class=\"token punctuation\">,</span> str <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Число:'</span><span class=\"token punctuation\">,</span> num <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Массив:'</span><span class=\"token punctuation\">,</span> fruitsList <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Объект:'</span><span class=\"token punctuation\">,</span> fruitsObj <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig4.png\" alt=\"А теперь правильно\">\n<p>И так тоже можно:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Всё сразу:'</span><span class=\"token punctuation\">,</span> str<span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">,</span> fruitsList<span class=\"token punctuation\">,</span> fruitsObj <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig5.png\" alt=\"Всё сразу\">\n<p>Передаваемые переменные можно выводить не только одну за другой, но и в более управляемом виде:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Сначала строчка: \"%s\", потом число: %i'</span><span class=\"token punctuation\">,</span> str<span class=\"token punctuation\">,</span> num <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig6.png\" alt=\"Изменяем вывод\">\n<p>Переменные точно также передаются в функцию списком, а для их вставки в конкретное место строки используются указатели, которые заодно отвечают и за формат вывода:</p>\n<p><code>%s</code> — в виде строки;\n<code>%d</code> или <code>%i</code> — в виде числа;\n<code>%f</code> — в виде числа с плавающей точкой;\n<code>%o</code> — в виде разворачиваемого DOM-элемента;\n<code>%O</code> — в виде разворачиваемого JavaScript-объекта;\n<code>%c</code> — оформляет вывод с соответствии с CSS, переданным дополнительным параметром.</p>\n<p>Переменные перед выводом в консоль приводятся к заданному формату. При этом важно правильно выбрать подходящий указатель, потому что иначе результат может получиться некорректным или просто нечитабельным:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> str <span class=\"token operator\">=</span> <span class=\"token string\">'Главный вопрос жизни вселенной и всего такого'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> float <span class=\"token operator\">=</span> <span class=\"token number\">12.34</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> fruitsList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'apple'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'pear'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'banana'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'str: %i: '</span><span class=\"token punctuation\">,</span> str <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'float: %i'</span><span class=\"token punctuation\">,</span> float <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'fruitsList: %O:'</span><span class=\"token punctuation\">,</span> fruitsList <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig7.png\" alt=\"Неверные форматы\">\n<p>Строка не смогла привестись к числу, и получилось <code>NaN</code>, число с плавающей точкой потеряло свою десятичную часть, а массив вывелся в виде разворачиваемого объекта, и теперь придется кликнуть, чтобы увидеть его содержимое.</p>\n<p>Форматы <code>%o</code> и <code>%O</code> особенно полезны для вывода элементов страницы:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> h1Elem <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'h1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'%o'</span><span class=\"token punctuation\">,</span> h1Elem <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'%O'</span><span class=\"token punctuation\">,</span> h1Elem <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig8.png\" alt=\"Разный вывод DOM-элементов\">\n<p>В первом случае выведется код элемента, во втором — Javascript-объект. При этом если нет необходимости выводить вспомогательный текст, аналогичный результат можно получить воспользовавшись просто <code>console.log()</code> и <code>console.dir()</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> h1Elem <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// код элемента</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">dir</span> <span class=\"token punctuation\">(</span> h1Elem <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Javascript-объект</span></code></pre></div>\n<p>Результат работы этого кода будет таким же, как на скрине выше.</p>\n<p>Из всех указателей мне больше всего полюбился последний: <code>%c</code> — стилизующий текст, потому что именно он помог мне привести однообразную колбасу в консоли в более-менее читабельный вид.</p>\n<p>Для того, чтобы задать оформление тексту, CSS-код нужно передать отдельным параметром, причем первым параметром в этом случае должна быть строка с указателями, вторым — строка с CSS, третьим — данные, которые нужно вывести.</p>\n<p>Пример:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> str <span class=\"token operator\">=</span> <span class=\"token string\">'Главный вопрос жизни вселенной и всего такого'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'%c%s'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'color: green; font: 1.2rem/1 Tahoma;'</span><span class=\"token punctuation\">,</span> str <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig9.png\" alt=\"Зеленый текст\">\n<p>Ещё удобнее будет вынести стили в отдельную переменную, тогда их можно будет использовать повторно:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> str <span class=\"token operator\">=</span> <span class=\"token string\">'Главный вопрос жизни вселенной и всего такого'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> style <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'padding: 1rem;'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'background: linear-gradient( gold, orangered);'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'text-shadow: 0 2px orangered;'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'font: 1.3rem/3 Georgia;'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'color: white;'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'%c%s'</span><span class=\"token punctuation\">,</span> style<span class=\"token punctuation\">,</span> str <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig10.png\" alt=\"Оранжевый градиент\">\n<p>Так можно управлять отступами, фоном и оформлением текста. Какие-то штуки работать не будут, например, <code>box-shadow</code>, но и того, что есть, вполне достаточно, чтобы добавить в консоль немного красоты:</p>\n<img src=\"/assets/img/articles/funny-console/rainbow.png\" alt=\"Радуга\">\n(<a href=\"http://stackoverflow.com/questions/7505623/colors-in-javascript-console/21457293#21457293\" target=\"_blank\">Отсюда</a>)\n<p>Для своих целей я заготовила несколько стилей:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> consoleStyles <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n <span class=\"token string\">'h1'</span><span class=\"token operator\">:</span> <span class=\"token string\">'font: 2.5em/1 Arial; color: crimson;'</span><span class=\"token punctuation\">,</span>\n <span class=\"token string\">'h2'</span><span class=\"token operator\">:</span> <span class=\"token string\">'font: 2em/1 Arial; color: orangered;'</span><span class=\"token punctuation\">,</span>\n <span class=\"token string\">'h3'</span><span class=\"token operator\">:</span> <span class=\"token string\">'font: 1.5em/1 Arial; color: olivedrab;'</span><span class=\"token punctuation\">,</span>\n <span class=\"token string\">'bold'</span><span class=\"token operator\">:</span> <span class=\"token string\">'font: bold 1.3em/1 Arial; color: midnightblue;'</span><span class=\"token punctuation\">,</span>\n <span class=\"token string\">'warn'</span><span class=\"token operator\">:</span> <span class=\"token string\">'padding: 0 .5rem; background: crimson; font: 1.6em/1 Arial; color: white;'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>и функцию, которая избавила меня от необходимости формировать руками набор параметров и форматирование строки:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token parameter\">msg<span class=\"token punctuation\">,</span> style</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span> <span class=\"token operator\">!</span>style <span class=\"token operator\">||</span> <span class=\"token operator\">!</span>consoleStyles<span class=\"token punctuation\">[</span> style <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    style <span class=\"token operator\">=</span> <span class=\"token string\">'bold'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'%c'</span> <span class=\"token operator\">+</span> msg<span class=\"token punctuation\">,</span> consoleStyles<span class=\"token punctuation\">[</span> style <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Пример использования:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Заголовок 1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'h1'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Заголовок 2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'h2'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Заголовок 3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'h3'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Жирный текст'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bold'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Ошибка'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'warn'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig11.png\" alt=\"Заголовки\">\n<p>Таким образом из вот такой колбасы скучного текста</p>\n<img src=\"/assets/img/articles/funny-console/fig12.png\" alt=\"Некрашеная консоль\">\n<p>можно получить вот такое:</p>\n<img src=\"/assets/img/articles/funny-console/fig13.png\" alt=\"Разноцветная консоль\">\n<p>По-моему, так гораздо лучше, особенно если отладочной информации много и в ней легко потеряться.</p>\n<p>Чтобы использовать в одной строке несколько стилей, надо каждый из них указать отдельным параметром, а затем с помощью <code>%c</code> задавать в тексте начало нового стиля:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> styles <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n<span class=\"token string\">'background: red'</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">'background: orange'</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">'background: gold'</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">'background: yellowgreen'</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">'background: skyblue'</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">'background: steelblue'</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">'background: darkviolet'</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'%c R %c A %c I %c N %c B %c O %c W '</span><span class=\"token punctuation\">,</span>\n  styles<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> styles<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> styles<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> styles<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  styles<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> styles<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> styles<span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig21.png\" alt=\"Rainbow\">\n<p>Чтобы покрасить только часть строки, один из стилей можно задать пустым:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'%c text1 %c text2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'color: crimson;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig22.png\" alt=\"Двухцветный текст\">\n<p>Если не хочется заморачиваться с раскрашиванием, для вывода большого количества данных можно воспользоваться <code>console.table()</code>:</p>\n<img src=\"/assets/img/articles/funny-console/fig14.png\" alt=\"Таблицы\">\n<p>Может, таблица выглядит не очень читабельно, но всё же это лучше списка свёрнутых объектов, к тому же она позволяет окинуть взглядом сразу весь массив.</p>\n<p>Также можно выделять из общего потока отдельные строчки, используя <code>console.info()</code> и <code>console.warn()</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'your text'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'your text'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig15.png\" alt=\"warn & info\">\n<p>Они работают как обычный <code>console.log()</code>, только добавляют иконки в начало строки (а <code>console.warn()</code> ещё и фон).</p>\n<p>Ещё можно выводить сообщения об ошибке и дополнительную отладочную информацию. Например, с помощью <code>console.error()</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Houston, we have a problem'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig16.png\" alt=\"console.error()\">\n<p><code>console.error()</code> ничего не проверяет, она просто выводит сообщение, оформленное определённым образом. Чтобы сообщение выводилось только при соблюдении заданных условий, можно использовать <code>console.assert()</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> fruitsObj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">'apple'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    color<span class=\"token operator\">:</span> <span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span>\n    seeds<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> expression <span class=\"token operator\">=</span> fruitsObj<span class=\"token punctuation\">.</span>apple<span class=\"token punctuation\">.</span>color <span class=\"token operator\">===</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">assert</span> <span class=\"token punctuation\">(</span> expression<span class=\"token punctuation\">,</span> <span class=\"token string\">'There is no blue apple'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Сообщение будет выведено только если <code>expression</code> будет равно <code>false</code>:</p>\n<img src=\"/assets/img/articles/funny-console/fig17.png\" alt=\"console.assert()\">\n<p>Чтобы просто вывести в консоль сообщение с отладочной информацией, можно использовать <code>console.trace()</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">trace</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Hello'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig18.png\" alt=\"console.trace()\">\n<p>Для визуальной группировки сообщений можно использовать <code>console.group()</code> и <code>console.groupEnd()</code>, обозначающие начало и конец группы соответственно:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">group</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'Animals'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'cat'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'dog'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">groupEnd</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig19.png\" alt=\"console.group()\">\n<p>Чтобы группа была по умолчанию свёрнута, вместо <code>console.group()</code> используется <code>console.groupCollapsed()</code>.</p>\n<p>А ещё можно подсчитывать вызовы функций с помощью <code>console.count()</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">myFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">count</span> <span class=\"token punctuation\">(</span> <span class=\"token string\">'myFunc() called'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">myFunc</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<img src=\"/assets/img/articles/funny-console/fig20.png\" alt=\"console.count()\">\n<p>В консоли можно делать и другие интересные вещи, вроде измерения времени выполнения кода. Также умные ребята для отладки используют <code>debugger</code> и точки остановки (breakpoints), но это уже совсем другая история.</p>","frontmatter":{"title":"Весёлая консолька","desc":"Недавно мне пришлось отлаживать капризный скрипт, в котором явно происходило что-то паранормальное. Чтобы найти проблему, понадобилось вывести в консоль браузера большое количество отладочной информации. Содержимое консоли превратилось в бесконечную колбасу однообразного текста, и с этим надо было что-то делать.","image":"https://img-fotki.yandex.ru/get/64326/5091629.a4/0_8db28_39e1a15b_orig","customCSS":null,"customJs":null,"tags":["js","tools"],"layout":null,"links":[{"desc":null,"name":"Console API Reference","url":"https://developers.google.com/web/tools/chrome-devtools/debug/console/console-reference"},{"desc":null,"name":"developer.mozilla.org/en-US/docs/Web/API/Console","url":"https://developer.mozilla.org/en-US/docs/Web/API/Console"}]}}},"pageContext":{"slug":"funny-little-console","date":"12/02/2016","url":"/funny-little-console","type":"post","includeContent":"","isArchived":false,"previous":{"frontmatter":{"title":"SVG-маски"},"fields":{"url":"/svg-masks","type":"post","isArchived":false}},"next":{"frontmatter":{"title":"SVG-градиенты"},"fields":{"url":"/svg-gradients","type":"post","isArchived":false}}}}}