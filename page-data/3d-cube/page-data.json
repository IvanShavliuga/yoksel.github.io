{"componentChunkName":"component---src-templates-blog-post-js","path":"/3d-cube","result":{"data":{"markdownRemark":{"html":"<p>Мне давно хотелось разобраться с 3D фигурами в Css и сделать вращающийся куб. Спеки прочитаны, можно приступать (почитать про <a href=\"/transform/\">трансформы</a> и про <a href=\"/css-animation/\">анимации</a>).<!--more--></p>\n<p>Вот что у меня получилось:</p>\n<iframe height=\"400\"\n      style=\"width: 100%\"\n      title=\"3D Cube Tutorial, fig. 1\"\n      src=\"https://codepen.io/yoksel/embed/zzNWxr/?&default-tab=result\"\n    ></iframe>\n<p>А теперь шаги:</p>\n<p><strong>1.</strong> Создаем основу будущего куба:</p>\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>back side<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>left side<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>right side<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>top side<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>bottom side<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>front side<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Один родительский контейнер и 6 граней.\nПоследовательность определяется близостью стенки к зрителю: задняя стенка позади всех остальных, передняя — перед всеми.</p>\n<p><strong>2.</strong> Задаем размеры и рамки, чтобы видеть что где:</p>\n<iframe height=\"350\"\n      style=\"width: 100%\"\n      title=\"3D Cube Tutorial, fig. 2\"\n      src=\"https://codepen.io/yoksel/embed/bRgvrJ/?&default-tab=result\"\n    ></iframe>\n<p><strong>3.</strong> Начинаем двигать стены. Все грани надо отодвинуть от центра на половину длины грани и повернуть на угол, соответствующий положению грани в пространстве. Начнем с задней стенки:</p>\n<p><code>transform: translateZ(-5em);</code> — сдвигаем стенку в глубину.</p>\n<iframe height=\"350\"\n      style=\"width: 100%\"\n      title=\"3D Cube Tutorial, fig. 3\"\n      src=\"https://codepen.io/yoksel/embed/mwRxBj/?&default-tab=result\"\n    ></iframe>\n<p>И ничего не происходит, потому что у сцены не задана перспектива. Добавляем:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">BODY</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">perspective</span><span class=\"token punctuation\">:</span> 1000px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">perspective-origin</span><span class=\"token punctuation\">:</span> center -5em<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Первая строчка — глубина перспективы.\nВторое свойство определяет с какой точки мы смотрим на объект.\nЯ задала вид на объект немного сверху (<code>-5em</code>).</p>\n<p>Чтобы контейнер не слипался, нужно добавить ему поддержку 3D:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">transform-style</span><span class=\"token punctuation\">:</span> preserve-3d<span class=\"token punctuation\">;</span></code></pre></div>\n<iframe height=\"350\"\n      style=\"width: 100%\"\n      title=\"3D Cube Tutorial, fig. 4\"\n      src=\"https://codepen.io/yoksel/embed/MoJVrK/?&default-tab=result\"\n    ></iframe>\n<p>Перспектива задается для внешних объектов (для всей сцены), а не для контейнера с трансформациями, потому что она не должна зависеть от перемещений трансформируемого элемента в пространстве.\nЕсли задать её для контейнера, она зафиксируется и будет двигаться вместе со всем объектом (пример справа).</p>\n<iframe height=\"400\"\n      style=\"width: 100%\"\n      title=\"3D Cube Tutorial, fig. 5\"\n      src=\"https://codepen.io/yoksel/embed/YQNaeL/?&default-tab=result\"\n    ></iframe>\n<p>Чтобы видеть как двигаются стенки, удобно каждой из них задать свой фон.\nЕщё я добавила стенкам <code>opacity: .7;</code>, чтобы сделать кубик полупрозрачным.</p>\n<p><strong>4.</strong> Теперь установим боковые стенки. Чтобы видеть получающуюся фигуру в объеме, добавим ей анимацию:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> rotate</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">100%</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotateY</span><span class=\"token punctuation\">(</span>360deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.container</span> <span class=\"token punctuation\">{</span>\n  ...\n  <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> rotate 10s infinite linear<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Чтобы поставить стенки на место, сначала подвинем их на половину ширины куба по оси X:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span>-5em<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>А затем повернём на 90 градусов вокруг вертикальной оси. Вот весь код для левой стенки:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.left</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span>-5em<span class=\"token punctuation\">)</span> <span class=\"token function\">rotateY</span><span class=\"token punctuation\">(</span>90deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Правая двигается аналогично, но в противоположную сторону по оси X.</p>\n<p>Что получилось:</p>\n<iframe height=\"400\"\n      style=\"width: 100%\"\n      title=\"3D Cube Tutorial, fig. 6\"\n      src=\"https://codepen.io/yoksel/embed/GErxYP/?&default-tab=result\"\n    ></iframe>\n<p><strong>5.</strong> Позиционируем верх и низ. Для этого их нужно подвинуть по вертикальной оси на половину ширины куба:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateY</span><span class=\"token punctuation\">(</span>-5em<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>И повернуть на 90 градусов вокруг горизонтальной.</p>\n<p>Код для верхней грани:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.top</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateY</span><span class=\"token punctuation\">(</span>-5em<span class=\"token punctuation\">)</span> <span class=\"token function\">rotateX</span><span class=\"token punctuation\">(</span>90deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Нижняя делается так же, но сдвигается в другую сторону по оси Y.</p>\n<p>Что получилось:</p>\n<iframe height=\"400\"\n      style=\"width: 100%\"\n      title=\"3D Cube Tutorial, fig. 7\"\n      src=\"https://codepen.io/yoksel/embed/LLxdqd/?&default-tab=result\"\n    ></iframe>\n<p><strong>6.</strong> Последним шагом ставим на место переднюю стенку. Её достаточно просто сдвинуть вперед:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.front</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateZ</span><span class=\"token punctuation\">(</span>5em<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Также чтобы подчеркнуть грани добавила белые рамки. Вот что получилось в итоге:</p>\n<iframe height=\"400\"\n      style=\"width: 100%\"\n      title=\"3D Cube Tutorial, fig. 8\"\n      src=\"https://codepen.io/yoksel/embed/YQNabJ/?&default-tab=result\"\n    ></iframe>\n<p>На гранях может быть что угодно, например, картинки и декоративные элементы:</p>\n<iframe height=\"500\"\n      style=\"width: 100%\"\n      title=\"3D Cube Tutorial, fig. 9\"\n      src=\"https://codepen.io/yoksel/embed/xrgjKY/?&default-tab=result\"\n    ></iframe>","frontmatter":{"title":"3D-куб","desc":"Объёмный куб с анимацией на CSS","image":null,"customCSS":null,"customJs":null,"tags":["experiments","transform","draw-on-css"],"layout":null,"links":[{"desc":null,"name":"Transform","url":"/transform/"},{"desc":null,"name":"Css Animation","url":"/css-animation/"},{"desc":null,"name":"СSS-градиенты и 3D","url":"/3d-and-gradients/"}]}}},"pageContext":{"slug":"3d-cube","date":"26/09/2013","url":"/3d-cube","type":"post","includeContent":"","isArchived":false,"previous":{"frontmatter":{"title":"Border-radius"},"fields":{"url":"/border-radius","type":"post","isArchived":false}},"next":{"frontmatter":{"title":"Css Animation"},"fields":{"url":"/css-animation","type":"post","isArchived":false}}}}}