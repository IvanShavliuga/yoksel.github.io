{"componentChunkName":"component---src-templates-blog-post-js","path":"/svg-stacks","result":{"data":{"markdownRemark":{"html":"<p>Стеки — это ещё один способ организации SVG. Как спрайт, только лучше — как если бы мы могли использовать <code>use</code> в CSS.</p>\n<p>К сожалению, способ очень неравномерно поддерживается современными браузерами. <!--more--></p>\n<p>Метод был предложен тут: <a href=\"http://simurai.com/blog/2012/04/02/svg-stacks/\">simurai.com/blog/2012/04/02/svg-stacks/</a> 2 года назад. Ниже, собственно, мой вольный пересказ: объяснение принципа и демо для тестов.</p>\n<p>В чем состоит способ?</p>\n<p>Допустим, у нас есть SVG-спрайт. Чтобы показать нужный кусочек картинки мы двигаем его с помощью <code>background-position</code>. Чем больше спрайт, тем утомительней задавать для каждой картинки свое положение фона. Конечно, можно автоматизировать процесс, но что если бы можно было просто внутри файла сложить картинки стопкой, скрыть их все и показывать нужную картинку, обратившись к ней по ID?</p>\n<p>Например, есть два квадратика, один поверх другого, зеленый сверху:</p>\n<p><svg width=\"200\" height=\"200\" viewbox=\"0 0 200 200\"><g id=\"svg-no\"><rect fill=\"#FF4646\" width=\"200\" height=\"200\" rx=\"8\"/><text id=\"No.\" font-family=\"Palatino\" font-size=\"90\" fill=\"#fff\"><tspan x=\"28\" y=\"130\">No.</tspan></text></g><g id=\"svg-yes\"><rect fill=\"#a2d529\" width=\"200\" height=\"200\" rx=\"8\"/><text id=\"Yes!\" font-family=\"Palatino\" font-size=\"90\" fill=\"#fff\"><tspan x=\"18\" y=\"130\">Yes!</tspan></text></g></svg></p>\n<p>Примерный код:</p>\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>150<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>150<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>g</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>no<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rect</span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>crimson<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>150<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>150<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rx</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>g</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>g</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>yes<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>hidden<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rect</span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>yellowgreen<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>150<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>150<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rx</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>g</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>По умолчанию должен показываться нижний элемент (красный), так что добавим CSS:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.hidden</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p><svg width=\"200\" height=\"200\" viewbox=\"0 0 200 200\"><style>.hidden { display: none; } :target { display: block; }</style><g><rect fill=\"#FF4646\" width=\"200\" height=\"200\" rx=\"8\"/><text id=\"No.\" font-family=\"Palatino\" font-size=\"90\" fill=\"#fff\"><tspan x=\"28\" y=\"130\">No.</tspan></text></g><g class=\"hidden\"><rect fill=\"#a2d529\" width=\"200\" height=\"200\" rx=\"8\"/><text id=\"Yes!\" font-family=\"Palatino\" font-size=\"90\" fill=\"#fff\"><tspan x=\"18\" y=\"130\">Yes!</tspan></text></g></svg></p>\n<p>А теперь воспользуемся селектором <code>:target</code>, чтобы показать только нужный:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">:target</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Добавим в адрес страницы ID элемента (<code>#yes</code>) <a href=\"#yes\">Клик!</a> и мы видим зеленый квадратик:</p>\n<p><svg width=\"200\" height=\"200\" viewbox=\"0 0 200 200\"><style>.hidden { display: none; } :target { display: block; }</style><g id=\"no\"><rect fill=\"#FF4646\" width=\"200\" height=\"200\" rx=\"8\"/><text id=\"No.\" font-family=\"Palatino\" font-size=\"90\" fill=\"#fff\"><tspan x=\"28\" y=\"130\">No.</tspan></text></g><g id=\"yes\" class=\"hidden\"><rect fill=\"#a2d529\" width=\"200\" height=\"200\" rx=\"8\"/><text id=\"Yes!\" font-family=\"Palatino\" font-size=\"90\" fill=\"#fff\"><tspan x=\"18\" y=\"130\">Yes!</tspan></text></g></svg></p>\n<p>Аналогично можно поиграться запрашивая файл по прямой ссылке: <a href=\"http://yoksel.github.io/assets/img/svg/yes-no.svg\">без ID</a> и <a href=\"http://yoksel.github.io/assets/img/svg/yes-no.svg#yes\">с ID</a></p>\n<p>Отлично работает!</p>\n<p>А что если попробовать разные способы вставки, например <code>embed</code>, <code>img</code> или <code>background-image</code>?</p>\n<p>Я сделала демо c разными способами, чтобы это проверить: <a href=\"http://codepen.io/yoksel/full/KDpqu/\">http://codepen.io/yoksel/full/KDpqu/</a>.</p>\n<p>И вот тут обнаруживается интересное:</p>\n<ul>\n<li>вставка через <code>embed</code> и <code>iframe</code> работает во всех браузерах;</li>\n<li>вставка через <code>img</code> и <code>background-image</code> — в IE9+, Firefox и старой Опере (только <code>img</code>), и совсем не работает в вебкитах.</li>\n</ul>\n<p>Отсутствие поддержки ID для <code>background-image</code> в вебкитах означает, что стеками пользоваться пока нельзя.</p>\n<p>Мне очень нравится идея и изящество SVG-стеков, и я надеюсь, что однажды мы сможем использовать их во всех браузерах без ограничений.</p>","frontmatter":{"title":"SVG-стеки","desc":"Стеки — это ещё один способ организации SVG. Как спрайт, только лучше — как если бы мы могли использовать use в CSS. К сожалению, способ очень неравномерно поддерживается современными браузерами.","image":"http://img-fotki.yandex.ru/get/9809/5091629.9d/0_80720_8dc116f0_L.png","customCSS":null,"customJs":null,"tags":["svg"],"layout":null,"links":[{"desc":null,"name":"SVG Stacks","url":"http://simurai.com/blog/2012/04/02/svg-stacks/"},{"desc":null,"name":"SVG-Stacker","url":"https://github.com/preciousforever/SVG-Stacker"},{"desc":null,"name":"Better SVG Sprites With Fragment Identifiers","url":"http://www.broken-links.com/2012/08/14/better-svg-sprites-with-fragment-identifiers/"}]}}},"pageContext":{"slug":"svg-stacks","date":"03/04/2014","url":"/svg-stacks","type":"post","includeContent":"","isArchived":true,"previous":{"frontmatter":{"title":"JsBin или Codepen?"},"fields":{"url":"/jsbin-vs-codepen","type":"post","isArchived":true}},"next":{"frontmatter":{"title":"Впечатления недели"},"fields":{"url":"/about-svg-and-3d-in-css","type":"post","isArchived":true}}}}}